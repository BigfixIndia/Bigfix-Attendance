{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="fw-bold mb-4">📊 Workday Tracker - {{ today }}</h2>

    <!-- Employee Cards -->
    <div class="row">
        {% for item in status_list %}
        <div class="col-md-4 mb-4">
            <div class="card border-primary shadow-lg">
                <div class="card-body">
                    <h5 class="card-title fw-semibold text-primary">{{ item.name }}</h5>
                    <hr>
                    <p class="mb-1"><strong>🕘 Check-in:</strong> {{ item.check_in|default:"--" }}</p>
                    <p class="mb-0"><strong>🕔 Check-out:</strong> {{ item.check_out|default:"--" }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- HR Card -->
    <div class="card mt-5 shadow-sm border-info">
        <div class="card-body">
            <h4 class="card-title text-info fw-bold mb-3">📋 HR Attendance Overview</h4>
            <p><strong>✅ Present Today:</strong> {{ present_count }}</p>

            {% if leave_list %}
                <p class="mt-3 fw-semibold">🟦 On Leave:</p>
                <ul class="list-group mb-3">
                    {% for emp in leave_list %}
                    <li class="list-group-item">{{ emp.employee__name }} - Leave</li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if absent_list %}
                <p class="mt-3 fw-semibold">❌ Absent:</p>
                <ul class="list-group">
                    {% for emp in absent_list %}
                    <li class="list-group-item">{{ emp.name }} - Absent</li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
